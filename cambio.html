<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="shortcut icon" href="images/Camada 1.png" type="image/x-icon" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <title>Cotação Dólar/Real - InvestSmart</title>
    <link rel="stylesheet" href="css/style-cambio.css">
    <style>
        .cotacao-container {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            text-align: center;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .cotacoes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .cotacao-item {
            padding: 15px;
            border-radius: 8px;
            background-color: #f8f9fa;
            transition: transform 0.2s;
        }
        .cotacao-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .valor {
            font-size: 1.5em;
            margin: 10px 0;
            color: #2ecc71;
        }
        .atualizacao {
            color: #7f8c8d;
            font-size: 0.9em;
            margin-top: 20px;
        }
        h3 {
            color: #34495e;
            margin: 0;
        }
    </style>
</head>
<body>
      <header>
    <div class="container-LOGO">
      <img src="images/Camada 1.png" alt="" />
      <div class="logo">InvestSmart</div>
    </div>
    <nav>
      <ul>
        <li id="comment-header"><a href="index.html">Home</a></li>
        <li id="comment-header"><a href="sobre.html">Sobre Nós</a></li>
        <li id="comment-header"><a href="blogs-main.html">Blogs</a></li>
        <li><button class="button-header" onclick="window.location.href='servicos.html'">
            Serviços

            <i class="fa-solid fa-arrow-right" id="seta"></i>
          </button></li>
      </ul>
    </nav>
  </header>
    <div class="cotacao-container">
        <h2>Cotações em Real</h2>
        <div class="cotacoes-grid">
            <div class="cotacao-item">
                <h3>Dólar Americano</h3>
                <div class="valor" id="cotacao-usd">Carregando...</div>
            </div>
            <div class="cotacao-item">
                <h3>Euro</h3>
                <div class="valor" id="cotacao-eur">Carregando...</div>
            </div>
            <div class="cotacao-item">
                <h3>Libra Esterlina</h3>
                <div class="valor" id="cotacao-gbp">Carregando...</div>
            </div>
            <div class="cotacao-item">
                <h3>Iene Japonês</h3>
                <div class="valor" id="cotacao-jpy">Carregando...</div>
            </div>
            <div class="cotacao-item">
                <h3>Franco Suíço</h3>
                <div class="valor" id="cotacao-chf">Carregando...</div>
            </div>
            <div class="cotacao-item">
                <h3>Yuan Chinês</h3>
                <div class="valor" id="cotacao-cny">Carregando...</div>
            </div>
        </div>
        <div class="atualizacao" id="atualizacao"></div>
    </div>

    <button id="toggleForm" class="floating-button">
    <i class="fa-solid fa-envelope fa-2x"></i>
  </button>

  <div id="registerForm" class="form-container" style="display: none">
    <form class="form" id="contatoForm" action="processar_contato.php" method="POST">
      <div class="header-container">
        <p class="title">Entre em Contato</p>
        <button id="close-btn" type="button">X</button>
      </div>
      <p class="message">
        Ficou com alguma dúvida ou está enfrentando alguma dificuldade em um
        de nossos serviços?
      </p>
      <div class="flex">
        <label>
          <input required name="nome" placeholder="" type="text" class="input" maxlength="20" />
          <span>Nome</span>
        </label>
        <label>
          <input required name="sobrenome" placeholder="" type="text" class="input" maxlength="40" />
          <span>Sobrenome</span>
        </label>
      </div>
      <label>
        <input required name="email" placeholder="" type="text" class="input" />
        <span>Email</span>
      </label>
      <textarea id="myTextarea" name="mensagem" maxlength="1000" rows="5" placeholder="Escreva sua mensagem aqui..." required></textarea>
      <div id="charCount" class="char-count">1000 caracteres restantes</div>
      <button type="submit" class="submit">Enviar</button>
    </form>
  </div>
<br><br><br><br>
  <footer>
    <div class="container-footer">
      <div class="row-footer">
        <!-- footer col-->
        <div class="footer-col">
          <h4>Site</h4>
          <ul>
            <li><a href="#">Home</a></li>
            <li><a href="blogs-main.html">Blogs</a></li>
            <li><a href="">Quem somos</a></li>
            <li><a href="">Serviços</a></li>
          </ul>
        </div>
        <!--end footer col-->
        <!-- footer col-->
        <div class="footer-col">
          <h4>Redes Sociais</h4>
          <ul>
            <li><a href="#">Facebook</a></li>
            <li><a href="#">Instragram</a></li>
            <li><a href="#">Tiktok</a></li>
            <li><a href="#">Youtube</a></li>
          </ul>
        </div>
        <!--end footer col-->
        <!-- footer col-->
        <div class="footer-col">
          <h4>Serviços</h4>
              <ul>
            <li><a href="calculadora.html">Calculos de Despesas</a></li>
            <li><a href="recomendacaoinvestimento.html">Investimentos</a></li>
            <li><a href="comparador-emprestimos.html">Comparador de Empréstimos</a></li>
            <li><a href="cambio.html">Cotações de Moedas</a></li>
          </ul>
        </div>
        <!--end footer col-->
        <!-- footer col-->
        <div class="footer-col">
          <h4>Inscreva-se na Newsletter</h4>
          <div class="form-sub">
              <form id="newsletter-form">
                  <input type="email" id="email" placeholder="Digite o seu e-mail" required />
                  <button type="submit">Se inscrever</button>
              </form>
          </div>
      </div>              
      </div>
    </div>
  </footer>
</body>
<script src="https://kit.fontawesome.com/65f22fe718.js" crossorigin="anonymous"></script>
<script src="script.js"></script>
<script src="https://kit.fontawesome.com/e1063b7707.js" crossorigin="anonymous"></script>
<script>
  document.getElementById('newsletter-form').addEventListener('submit', function(e) {
      e.preventDefault(); // Impede o envio padrão do formulário
  
      var email = document.getElementById('email').value;
  
      if (email) {
          var xhr = new XMLHttpRequest();
          xhr.open('POST', 'newsletter.php', true);
          xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
  
          // Envia o email para o backend
          xhr.send('email=' + encodeURIComponent(email));
  
          // Quando a resposta for recebida
          xhr.onload = function() {
              if (xhr.status == 200) {
                  try {
                      var response = JSON.parse(xhr.responseText);
                      alert(response.message); // Exibe a mensagem de sucesso ou erro
                  } catch (e) {
                      console.error("Resposta inesperada do servidor:", xhr.responseText);
                      alert("Erro inesperado. Verifique o console para mais detalhes.");
                  }
              } else {
                  alert('Ocorreu um erro ao se inscrever. Tente novamente.');
              }
          };
      } else {
          alert('Por favor, insira um email válido!');
      }
  });
  </script>

    <script>
        async function obterCotacoes() {
            try {
                const response = await fetch('https://api.exchangerate-api.com/v4/latest/USD');
                const data = await response.json();
                
                // Cotações em relação ao dólar
                const taxas = {
                    USD: data.rates.BRL,
                    EUR: data.rates.BRL / data.rates.EUR,
                    GBP: data.rates.BRL / data.rates.GBP,
                    JPY: data.rates.BRL / data.rates.JPY,
                    CHF: data.rates.BRL / data.rates.CHF,
                    CNY: data.rates.BRL / data.rates.CNY
                };

                // Atualiza cada cotação
                document.getElementById('cotacao-usd').innerHTML = `
                    1 USD = R$ ${taxas.USD.toFixed(2)}
                `;
                document.getElementById('cotacao-eur').innerHTML = `
                    1 EUR = R$ ${taxas.EUR.toFixed(2)}
                `;
                document.getElementById('cotacao-gbp').innerHTML = `
                    1 GBP = R$ ${taxas.GBP.toFixed(2)}
                `;
                document.getElementById('cotacao-jpy').innerHTML = `
                    1 JPY = R$ ${taxas.JPY.toFixed(4)}
                `;
                document.getElementById('cotacao-chf').innerHTML = `
                    1 CHF = R$ ${taxas.CHF.toFixed(2)}
                `;
                document.getElementById('cotacao-cny').innerHTML = `
                    1 CNY = R$ ${taxas.CNY.toFixed(2)}
                `;
                
                const dataAtual = new Date().toLocaleString('pt-BR');
                document.getElementById('atualizacao').innerHTML = `
                    Última atualização: ${dataAtual}
                `;
            } catch (error) {
                document.querySelectorAll('.valor').forEach(element => {
                    element.innerHTML = 'Erro ao obter cotação';
                });
                console.error('Erro:', error);
            }
        }

        // Atualiza as cotações quando a página carrega
        obterCotacoes();

        // Atualiza as cotações a cada 5 minutos
        setInterval(obterCotacoes, 300000);
    </script>
</body>
</html>
